<krpano version="1.20.11" title="Virtual Tour" debugmode="true" consolelog="true" orientationChanged="false">
	<!-- Idle sceen-->
	<include url="./components/landingPage.xml"/>
	<include url="./components/questionsA.xml"/>
	<include url="./components/questionsB.xml"/>
	<include url="./components/questionsC.xml"/>
	<!--WebVR-->
	<include url="%VIEWER%/plugins/webvr.xml" />
	<plugin name="webvr" postracking="true" />

    <!-- <events keep="true" onresize="reloadCurrentScene()" /> -->
    
   <!-- <events keep="true" onresize="reloadHotspots()" />
    
    <action name="reloadHotspots">
        showlog();
        for(set(i,0), i LT hotspot.count, inc(i),
            set(hotspotName, get(hotspot[get(i)].name));
            set(hotspot[get(hotspotName)].visible, false);
            set(hotspot[get(hotspotName)].visible, true);
        );

    </action> -->

    <action name="checkAspectRatioAndLoadScene">
        <!-- showlog();
        trace('window size = ', stagewidth, 'x', stageheight); -->
        if((stagewidth LT stageheight) ,
            <!-- trace('Switching to error scene due to portrait orientation.');   -->
           tween(alpha,0,0.2,default,WAIT); loadscene(scene_error, null, MERGE|KEEPMOVING, COLORBLEND(1.0,0x000000, easeinquad));  

        );  
    </action>
 
	<action name="startup" autorun="onstart">
		if(device.panovideosupport == false,
		error('Sorry, but panoramic videos are not supported by your current browser!');
		,
		 tween(alpha,0,0.2,default,WAIT); loadscene(scene_landing,null,MERGE|KEEPMOVING, COLORBLEND(1.0,0x000000, easeinquad));
		);
	</action>
			
	<view hlookat="0" vlookat="0" fovtype="MFOV" fov="110" fovmin="80" fovmax="110" limitview="auto"/>
	<control 
         mousefovchange="1.5"  
         bouncinglimits="true"
    />
	<!-- <view  fovmin="10.0" fovmax="190.0"/> -->
		 
	<!--Buttons style-->
	<style name="button" type="text"
		   css="text-align: justify;
		   font-size:26px;
		   font-weight:500;"

		   padding="10 10"
		   mergedalpha="false"
		   bgborder="4 0x6af1fd. 1"
		   bgroundedge="15"
		   bgshadow="0 1 4 0x6af1fd 1.0"
		   onover="set(bgcolor, 0xC7E4FC);"
		   onout="calc(bgcolor, pressed ? 0x90CAF9 : 0xFFFFFF);"
		   ondown="set(bgcolor, 0x90CAF9);"
		   onup="calc(bgcolor, hovering ? 0xC7E4FC : 0xFFFFFF);"
	/>

 

	<!-- <style name="start_button" type="text"
		   css="text-align:center; 
		   font-size:24px; 
		   font-weight:700; font-weight:500; font-family: &quot;Montserrat&quot;, sans-serif; font-style: normal;"
		   padding="25 25"
		   mergedalpha="false"
		   bgborder="4 0x6af1fd" 
		   bgroundedge="20"
		   bgshadow="0 1 4 0x000000 1.0"
		   onover="set(bgcolor, 0xC7E4FC);"
		   onout="calc(bgcolor, pressed ? 0x90CAF9 : 0xFFFFFF);"
		   ondown="set(bgcolor, 0x90CAF9);"
		   onup="calc(bgcolor, hovering ? 0xC7E4FC : 0xFFFFFF);"
	/> -->

    <style name="start_button2"
        type="text"
		css="text-align:center; font-size:40px; font-weight:700; font-family: &quot;Montserrat&quot;, sans-serif; font-style: normal;" 
		padding="35 35"
        mergedalpha="false"        
        bgalpha="1.0"
        bgborder="7 0xe74771" 
		bgroundedge="25"
		bgshadow="0 1 3 0x000000 1.0"
        onover="set(bgcolor, 0xC7E4FC);"
        onout="calc(bgcolor, pressed ? 0x90CAF9 : 0xFFFFFF);"
        ondown="set(bgcolor, 0x90CAF9);"
        onup="calc(bgcolor, hovering ? 0xC7E4FC : 0xFFFFFF);"
	/>

     <style name="end_button"
        type="text"
		css="text-align:center; font-size:40px; font-weight:700; font-family: &quot;Montserrat&quot;, sans-serif; font-style: normal;" 
		padding="35 35"
        mergedalpha="false"        
        bgalpha="1.0"
        bgborder="7 0xe74771" 
		bgroundedge="25"
		bgshadow="0 1 3 0x000000 1.0"
        onover="set(bgcolor, 0xC7E4FC);"
        onout="calc(bgcolor, pressed ? 0x90CAF9 : 0xFFFFFF);"
        ondown="set(bgcolor, 0x90CAF9);"
        onup="calc(bgcolor, hovering ? 0xC7E4FC : 0xFFFFFF);"
	/>

    <style name="message"
        type="text"
		css="text-align:center; font-size:40px; font-weight:700; font-family: &quot;Montserrat&quot;, sans-serif; font-style: normal;" 
		padding="30 30"
        mergedalpha="false"        
        bgalpha="1.0"
        bgborder="7 0xe222222" 
		bgroundedge="25"
		bgshadow="0 1 3 0x000000 1.0"

	/>
    <!-- <hotspot name="go_back" style="button" ox="0" oy="550" ry="0" tz="2000"	scale="2.2"	
        distorted="true"				 			
        width="300"	
        html="Back to Questions"
        onover="tween(scale,2.8,easeOutExpo,0.2);"
        onout="tween(scale,2.2,easeOutExpo,0.2);"
        onclick=" loadscene(scene_idle, null,MERGE|KEEPMOVING,COLORBLEND(1.0,0x000000,easeOutSine)); "
    />

    <hotspot name="go_back2" style="button" ox="-600" oy="600" ry="200" tz="-4000"	scale="2.2"	
        distorted="true"				 			
        width="250"	
        html="Back to Questions"
        onover="tween(scale,2.8,easeOutExpo,0.2);"
        onout="tween(scale,2.2,easeOutExpo,0.2);"
        onclick=" loadscene(scene_idle, null,MERGE|KEEPMOVING,COLORBLEND(1.0,0x000000,easeOutSine)); "
    />			  -->
  

	<!--      ........  Ansewer Scenes   ...........   --> 
    <scene name="scene_error" title="e1" onstart="" thumburl="" lat="" lng="" heading="" >
        <hotspot            
            name="message_1"
            style="message"
            align='center'
            distorted="true"
            tz="1000"
            ty="-500"   
            width="800"
            html="Have your screen in lanscape mode and then reload the page." 
            zorder="2"

        />			
    </scene>

	<scene name="user_A1" title="a1" onstart="" thumburl="" lat="" lng="" heading="" >
            <plugin name="video"
                    url.html5="plugins/videoplayer.js"
                    url.flash="plugins/videoplayer.swf"
                    videourl="./clips/a1.webm"                    
                    panovideo="true"
                    pausedonstart="false"
                    volume="1.0"					 
					loop="false" 
					onvideocomplete="tween(alpha,0,0.2,default,WAIT); loadscene(ending1,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            />

            <image hfov="360" vfov="180"> 
                <sphere url="plugin:video" />
            </image>			
    </scene>

	<scene name="user_A2" title="a2" onstart="" thumburl="" lat="" lng="" heading="">
            <plugin name="video"
                    url.html5="plugins/videoplayer.js"
                    url.flash="plugins/videoplayer.swf"
                    videourl="./clips/a2.webm"
                     
                    panovideo="true"
                    pausedonstart="false" 
                    volume="1.0"					
					loop="false" 
					onvideocomplete="tween(alpha,0,0.2,default,WAIT); loadscene(ending4,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            />
			
            <image hfov="360" vfov="180">
                <sphere url="plugin:video" />
            </image>			
    </scene>

	<scene name="user_B1" title="b1" onstart="" thumburl="" lat="" lng="" heading="">
            <plugin name="video"
                    url.html5="plugins/videoplayer.js"
                    url.flash="plugins/videoplayer.swf"
                     
                    videourl="./clips/b1.webm"
                    panovideo="true"
                    pausedonstart="false" 
                    volume="1.0"					
					loop="false" 
					onvideocomplete="tween(alpha,0,0.2,default,WAIT); loadscene(ending3,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            />
			
            <image hfov="360" vfov="180">
                <sphere url="plugin:video" />
            </image>			
    </scene>

	<scene name="user_B4" title="b4" onstart="" thumburl="" lat="" lng="" heading="">
            <plugin name="video"
                    url.html5="plugins/videoplayer.js"
                    url.flash="plugins/videoplayer.swf"
                    videourl="./clips/b4.webm"
                     
                    panovideo="true"
                    pausedonstart="false" 
                    volume="1.0"					
					loop="false" 
					onvideocomplete="tween(alpha,0,0.2,default,WAIT); loadscene(scene_C,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            />
			
            <image hfov="360" vfov="180">
                <sphere url="plugin:video" />
            </image>			
    </scene>


	<scene name="user_C1" title="c1" onstart="" thumburl="" lat="" lng="" heading="">
            <plugin name="video"
                    url.html5="plugins/videoplayer.js"
                    url.flash="plugins/videoplayer.swf"
                     
                    videourl="./clips/c1.webm"
                    panovideo="true"
                    pausedonstart="false" 
                    volume="1.0"					
					loop="false" 
					onvideocomplete="tween(alpha,0,0.2,default,WAIT); loadscene(scene_c,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            />
			
            <image hfov="360" vfov="180">
                <sphere url="plugin:video" />
            </image>			
    </scene>	
	
	<scene name="user_C2" title="c2" onstart="" thumburl="" lat="" lng="" heading="">
            <plugin name="video"
                    url.html5="plugins/videoplayer.js"
                    url.flash="plugins/videoplayer.swf"
                    videourl="./clips/c2.webm"
                    panovideo="true"
                    pausedonstart="false" 
                    volume="1.0"					
					loop="false" 
					onvideocomplete="tween(alpha,0,0.2,default,WAIT); loadscene(scene_c,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            />
			
            <image hfov="360" vfov="180">
                <sphere url="plugin:video" />
            </image>			
    </scene>
	
	<scene name="user_C3" title="c3" onstart="" thumburl="" lat="" lng="" heading="">
            <plugin name="video"
                    url.html5="plugins/videoplayer.js"
                    url.flash="plugins/videoplayer.swf"
                    videourl="./clips/c3.webm"
                    panovideo="true"
                    pausedonstart="false" 
                    volume="1.0"					
					loop="false" 
					onvideocomplete="tween(alpha,0,0.2,default,WAIT); loadscene(scene_c,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            />
			
            <image hfov="360" vfov="180">
                <sphere url="plugin:video" />
            </image>
    </scene>	
	
	<scene name="user_C4" title="c4" onstart="" thumburl="" lat="" lng="" heading="">
            <plugin name="video"
                    url.html5="plugins/videoplayer.js"
                    url.flash="plugins/videoplayer.swf"
                    videourl="./clips/c4.webm"
                    panovideo="true"
                    pausedonstart="false" 
                    volume="1.0"					
					loop="false" 
					onvideocomplete="tween(alpha,0,0.2,default,WAIT); loadscene(ending5,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            />
			
            <image hfov="360" vfov="180">
                <sphere url="plugin:video" />
            </image>			
    </scene>

    <!-- ending1 -->
    <scene name="ending1" title="e1" onstart="" thumburl="" lat="" lng="" heading=""> 
     <hotspot
            name="end1_text"
            type="image"
            distorted="true"
            tz="1000"
            ty="-500"   
            url="%VIEWER%/ui/end1.png"
            align='center'
            width="859"
            height="218"
            y="-10%"
            alphachannel="auto"
		/>
        <hotspot            
            name="btn_end1"
            style="end_button"
            align='center'
            distorted="true"
            tz="1000"
            ty="500"   
            width="300"
            html="Let's Go" 
            onclick=" tween(alpha,0,0.2,default,WAIT); loadscene(Scene_a_actor,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            zorder="2"
            onover="tween(scale,1.1,easeOutExpo,0.2, set(hotspot[buttonImage_1].scale, 1.05));  "
            onout="tween(scale,1,easeOutExpo,0.2, set(hotspot[buttonImage_1].scale, 1));  "
        />   
    </scene>

     <!-- ending2 -->
    <scene name="ending2" title="e2" onstart="" thumburl="" lat="" lng="" heading=""> 
     <hotspot
            name="end2_text"
            type="image"
            distorted="true"
            tz="1000"
            ty="-500"   
            url="%VIEWER%/ui/end2.png"
            align='center'
            width="859 "
            height="304"
            y="-10%"
            alphachannel="auto"
		/>
        <hotspot            
            name="btn_end2"
            style="end_button"
            align='center'
            distorted="true"
            tz="1000"
            ty="500"   
            width="300"
            html="Let's Go" 
            onclick="tween(alpha,0,0.2,default,WAIT); loadscene(Scene_a_actor,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            zorder="2"
            onover="tween(scale,1.1,easeOutExpo,0.2, set(hotspot[buttonImage_1].scale, 1.05));  "
            onout="tween(scale,1,easeOutExpo,0.2, set(hotspot[buttonImage_1].scale, 1));  "
        />   
    </scene>

 <!-- ending3 -->
    <scene name="ending3" title="e3" onstart="" thumburl="" lat="" lng="" heading=""> 
     <hotspot
            name="end3_text"
            type="image"
            distorted="true"
            tz="1000"
            ty="-500"   
            url="%VIEWER%/ui/end3.png"
            align='center'
            width="859"
            height="301"
            y="-10%"
            alphachannel="auto"
		/>
        <hotspot            
            name="btn_end3"
            style="end_button"
            align='center'
            distorted="true"
            tz="1000"
            ty="500"   
            width="300"
             html="Let's Go" 
            onclick=" tween(alpha,0,0.2,default,WAIT); loadscene(Scene_a_actor,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            zorder="2"
            onover="tween(scale,1.1,easeOutExpo,0.2, set(hotspot[buttonImage_1].scale, 1.05));  "
            onout="tween(scale,1,easeOutExpo,0.2, set(hotspot[buttonImage_1].scale, 1));  "
        />   
    </scene>

 <!-- ending4 -->
    <scene name="ending4" title="e4" onstart="" thumburl="" lat="" lng="" heading=""> 
    <hotspot
            name="end4_text"
            type="image"
            distorted="true"
            tz="1000"
            ty="-500"   
            url="%VIEWER%/ui/end4.png"
            align='center'
            width="859"
            height="301"
            y="-10%"
            alphachannel="auto"
		/>
        <hotspot            
            name="btn_end4"
            style="end_button"
            align='center'
            distorted="true"
            tz="1000"
            ty="500"   
            width="300"
           html="Let's Go" 
            onclick=" tween(alpha,0,0.2,default,WAIT); loadscene(Scene_a_actor,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            zorder="2"
            onover="tween(scale,1.1,easeOutExpo,0.2, set(hotspot[buttonImage_1].scale, 1.05));  "
            onout="tween(scale,1,easeOutExpo,0.2, set(hotspot[buttonImage_1].scale, 1));  "
        />   
    </scene>

 <!-- ending5 -->
    <scene name="ending5" title="e5" onstart="" thumburl="" lat="" lng="" heading=""> 
    <hotspot
            name="end5_text"
            type="image"
            distorted="true"
            tz="1000"
            ty="-500"   
            url="%VIEWER%/ui/end5.png"
            align='center'
            width="859 "
            height="301"
            y="-10%"
            alphachannel="auto"
		/>
        <hotspot            
            name="btn_end5"
            style="end_button"
            align='center'
            distorted="true"
            tz="1000"
            ty="500"   
            width="300"
            html="Play Again" 
            onclick=" tween(alpha,0,0.2,default,WAIT); loadscene(Scene_a_actor,null,MERGE|KEEPMOVING,OPENBLEND(0.8, -1.0, 0.3, 0.0, linear));"
            zorder="2"
            onover="tween(scale,1.1,easeOutExpo,0.2, set(hotspot[buttonImage_1].scale, 1.05));"
            onout="tween(scale,1,easeOutExpo,0.2, set(hotspot[buttonImage_1].scale, 1)); "
        />   
    </scene>


    
</krpano>
